# =============================================================
# ğŸ“Œ ê¸°ë³¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
spring:
  application:
    name: demo  # ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¦„ ì„¤ì •
  main:
    web-application-type: reactive # servlet, reactive
  # ----------------------------------------------------------
  # ğŸ“Œ ìŠ¤í…Œì´ì§• ë° ìš´ì˜ í™˜ê²½ì„ ìœ„í•œ í”„ë¡œíŒŒì¼
  #  config:
  #    import:
  #      - application-local.yml
  #    activate:
  #      on-profile: local
  # ----------------------------------------------------------
  # ğŸ“Œ devtools
  devtools:
    restart:
      enabled: false  # ìë™ ì¬ì‹œì‘ ê¸°ëŠ¥ ë¹„í™œì„±í™”
    livereload:
      enabled: false  # LiveReload ê¸°ëŠ¥ ë¹„í™œì„±í™”
  # ----------------------------------------------------------
  # ğŸ“Œ devtools
  # ----------------------------------------------------------
  # ğŸ“Œ webflux
  webflux:
    server:
      netty:
        connection-timeout: 5000
        max-header-size: 8192
  # ğŸ“Œ H2ì„¤ì •
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
    username: sa
    password: ""
  h2:
    console:
      enabled: true  # H2 ì›¹ ì½˜ì†”(http://localhost:9218/h2-console)
  # ----------------------------------------------------------
  # ğŸ“Œ JSON ì„¤ì • (Jackson)
  jackson:
    serialization:
      fail-on-empty-beans: false
      write-dates-as-timestamps: false  # ISO format
    deserialization:
      fail-on-unknown-properties: false
# =============================================================
# ğŸ“Œ ë¡œê¹… ì„¤ì •
logging:
  level:
    root: INFO
    io.undertow: DEBUG
    io.undertow.request.security: INFO
    org.springframework.boot.autoconfigure: WARN
    org.springframework.web: DEBUG
    org.springframework.web.reactive: INFO
    reactor.netty: INFO
    com.template: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"  # ë¡œê·¸ í¬ë§· ì„¤ì •
# =============================================================
# ğŸ“Œ ì„œë²„ ì„¤ì •
server:
  port: 9218
  #  servlet:
  #    context-path: /api  # default context
  compression:
    enabled: true  # response compress
    min-response-size: 1024
  http2:
    enabled: true
  undertow:
    threads:
      io: 16
      worker: 256
    buffer-size: 8192
    direct-buffers: true
    #max-http-post-size: 10485760 # max POST request(10MB)
# =============================================================
reactor:
  netty:
    requestRate: 5000  # ì´ˆë‹¹ ìš”ì²­ ìˆ˜
    #ioSelectCount: 4
    #ioWorkerCount: 8
    ioSelectRateFactor: 5000   # ìš”ì²­ë‹¹ ioSelectCount ì¦ê°€ ë‹¨ìœ„
    ioWorkerRateFactor: 1000   # ìš”ì²­ë‹¹ ioWorkerCount ì¦ê°€ ë‹¨ìœ„
    maxConnections: 10000
    pendingAcquireTimeout: 10000
    pool:
      maxIdleTime: 20000
      maxLifeTime: 60000
    tcp:
      keepAlive: true
# =============================================================
# ğŸ“Œ ì•¡ì¶”ì—ì´í„° (ì„œë²„ ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥)
management:
  server:
    port: 9219
  endpoint:
    loggers:
      enabled: false
  endpoints:
    web:
      exposure:
        include: "" # "health, loggers, metrics, info"
  metrics:
    enable:
      reactor: false
  jmx:
    exposure:
      exclude: "*"  # JMX ì—”ë“œí¬ì¸íŠ¸ ë¹„í™œì„±í™”
